# Dockerfile for Streamlit App
FROM python:3.12-slim-bookworm

# Set working directory inside the container
WORKDIR /app

# Install Python dependencies
# Ensure 'requests' is included as app.py uses it for Airflow API calls
# 'pandas' and 'numpy' are included as common Streamlit dependencies for data display
# 'python-dotenv' is not strictly needed in the container if .env is handled by docker-compose,
# but can be kept if there's a fallback mechanism or other .env usage within the app.
RUN pip install --no-cache-dir \
    streamlit==1.36.0 \
    pandas \
    numpy \
    python-dotenv \
    requests

# Expose the port Streamlit runs on
EXPOSE 8501

# Command to run the Streamlit application
# app.py is now mounted as a volume, so it will be found at /app/app.py
CMD ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]
